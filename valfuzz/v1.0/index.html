<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>valFuzz: valFuzz Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">valFuzz<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">valFuzz Documentation </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="fragment"><div class="line">             _ _____</div>
<div class="line"> __   ____ _| |  ___|   _ ________</div>
<div class="line"> \ \ / / _` | | |_ | | | |_  /_  /</div>
<div class="line">  \ V / (_| | |  _|| |_| |/ / / /</div>
<div class="line">   \_/ \__,_|_|_|   \__,_/___/___|</div>
<div class="line"> </div>
<div class="line">A modern testing &amp; fuzzing library <span class="keywordflow">for</span> C++</div>
<div class="line">Settings:</div>
<div class="line"> - Multithreaded: <span class="keyword">true</span></div>
<div class="line"> - Max threads: 4</div>
<div class="line"> - Verbose: <span class="keyword">false</span></div>
<div class="line"> </div>
<div class="line">Seed: 1726579491</div>
<div class="line">Running 18 tests...</div>
</div><!-- fragment --><p> Welcome to the official valFuzz documentation. This guide provides comprehensive information and practical examples to help you use valFuzz for your testing and fuzzing needs.</p>
<h1><a class="anchor" id="overview"></a>
Overview</h1>
<p>valFuzz is a minimal and lightweight fuzzing framework for C++23. It uses modern standards and techniques to provide a robust and efficient framework for testing and fuzzing for small-medium size projects without particular testing requirements. Despite this, the simpliciry of the library allows for easy extension and customization for your own need.</p>
<h1><a class="anchor" id="installation"></a>
Installation</h1>
<p>The library is composed of a header and a source file: <code><a class="el" href="valfuzz_8hpp.html">include/valfuzz/valfuzz.hpp</a></code> and <code><a class="el" href="valfuzz_8cpp.html">src/valfuzz.cpp</a></code> respectively. To use the library, you can simply include the header file in your project and add the source file to your build sources. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="valfuzz_8hpp.html">valfuzz/valfuzz.hpp</a>&quot;</span></div>
<div class="ttc" id="avalfuzz_8hpp_html"><div class="ttname"><a href="valfuzz_8hpp.html">valfuzz.hpp</a></div></div>
</div><!-- fragment --><h1><a class="anchor" id="usage"></a>
Usage</h1>
<h2><a class="anchor" id="assertions"></a>
Assertions</h2>
<p>The library provides various macros for assertions to be used in your tests:</p><ul>
<li><code>ASSERT</code> - Asserts that the given expression is true.</li>
<li><code>ASSERT_EQ</code> - Asserts that the two given values are equal.</li>
<li><code>ASSERT_NE</code> - Asserts that the two given values are not equal.</li>
<li><code>ASSERT_LT</code> - Asserts that the first value is less than the second value.</li>
<li><code>ASSERT_LE</code> - Asserts that the first value is less than or equal to the second value.</li>
<li><code>ASSERT_GT</code> - Asserts that the first value is greater than the second value.</li>
<li><code>ASSERT_GE</code> - Asserts that the first value is greater than or equal to the second value.</li>
<li><code>ASSERT_THROW</code> - Asserts that the given expression throws an exception of the given type.</li>
<li><code>ASSERT_NO_THROW</code> - Asserts that the given expression does not throw any exception.</li>
</ul>
<p>For example: </p><div class="fragment"><div class="line"><a class="code hl_define" href="valfuzz_8hpp.html#a0966b817b229d48e5ffc7feab19a0be6">ASSERT</a>(1 == 1);  <span class="comment">// Evaluates the expression</span></div>
<div class="line"><a class="code hl_define" href="valfuzz_8hpp.html#a0086e0b898cbf7a680ba24ed898edb1f">ASSERT_NE</a>(1, 2); <span class="comment">// Evaluates the two expressions and compares them</span></div>
<div class="line"><a class="code hl_define" href="valfuzz_8hpp.html#a8aaa8863231d2dcf58faa95a6f5abba5">ASSERT_THROW</a>(foo(), std::runtime_error); <span class="comment">// Evaluates the expression and checks if it throws the given exception</span></div>
<div class="ttc" id="avalfuzz_8hpp_html_a0086e0b898cbf7a680ba24ed898edb1f"><div class="ttname"><a href="valfuzz_8hpp.html#a0086e0b898cbf7a680ba24ed898edb1f">ASSERT_NE</a></div><div class="ttdeci">#define ASSERT_NE(a, b)</div><div class="ttdef"><b>Definition</b> <a href="valfuzz_8hpp_source.html#l00070">valfuzz.hpp:70</a></div></div>
<div class="ttc" id="avalfuzz_8hpp_html_a0966b817b229d48e5ffc7feab19a0be6"><div class="ttname"><a href="valfuzz_8hpp.html#a0966b817b229d48e5ffc7feab19a0be6">ASSERT</a></div><div class="ttdeci">#define ASSERT(cond)</div><div class="ttdef"><b>Definition</b> <a href="valfuzz_8hpp_source.html#l00054">valfuzz.hpp:54</a></div></div>
<div class="ttc" id="avalfuzz_8hpp_html_a8aaa8863231d2dcf58faa95a6f5abba5"><div class="ttname"><a href="valfuzz_8hpp.html#a8aaa8863231d2dcf58faa95a6f5abba5">ASSERT_THROW</a></div><div class="ttdeci">#define ASSERT_THROW(expr, exception)</div><div class="ttdef"><b>Definition</b> <a href="valfuzz_8hpp_source.html#l00110">valfuzz.hpp:110</a></div></div>
</div><!-- fragment --><p>When an assertion fails, the program will output the test name, the line number and the assertion arguments that caused the failure. The program will then continue to run the other tests. </p><div class="fragment"><div class="line">test: Simple Assertion Fail, line: 66, Assertion failed: 1 == 2</div>
<div class="line">test: Should Not Throw Fail, line: 85, Exception thrown</div>
</div><!-- fragment --><h2><a class="anchor" id="Run"></a>
Your First Test</h2>
<p>To run your first test, you need to define a test function using the <code>TEST</code> macro. You will have to specify an unique name for the test and a string name for display purposes.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="valfuzz_8hpp.html">valfuzz/valfuzz.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="valfuzz_8hpp.html#a862b2db61d49ccb68e9fedd1fefccc43">TEST</a>(simple_assertion, <span class="stringliteral">&quot;Simple Assertion&quot;</span>)</div>
<div class="line">{</div>
<div class="line">   <a class="code hl_define" href="valfuzz_8hpp.html#a0966b817b229d48e5ffc7feab19a0be6">ASSERT</a>(1 == 1);</div>
<div class="line">}</div>
<div class="ttc" id="avalfuzz_8hpp_html_a862b2db61d49ccb68e9fedd1fefccc43"><div class="ttname"><a href="valfuzz_8hpp.html#a862b2db61d49ccb68e9fedd1fefccc43">TEST</a></div><div class="ttdeci">#define TEST(name, pretty_name)</div><div class="ttdef"><b>Definition</b> <a href="valfuzz_8hpp_source.html#l00188">valfuzz.hpp:188</a></div></div>
</div><!-- fragment --><p>Tests are automatically registered and run when the program starts. You can run a particular test by specifying the test name after <code>--test</code> as a command line argument: </p><div class="fragment"><div class="line">./my_test --test <span class="stringliteral">&quot;Simple Assertion&quot;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="setup"></a>
Setup and Cleanup</h2>
<p>It is often necessary to perform some setup and cleanup operations before tests are run. You can define those functions using the <code>BEFORE</code> and <code>AFTER</code> macros respectively. The setup function will be run before all tests and the cleanup function will be run after all tests. </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="valfuzz_8hpp.html">valfuzz/valfuzz.hpp</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="valfuzz_8hpp.html#a7e8ec6104f88c2824f334ec993a4acba">BEFORE</a>()</div>
<div class="line">{</div>
<div class="line">   std::cout &lt;&lt; <span class="stringliteral">&quot;Before test&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="valfuzz_8hpp.html#a862b2db61d49ccb68e9fedd1fefccc43">TEST</a>(a_test, <span class="stringliteral">&quot;Another simple test&quot;</span>)</div>
<div class="line">{</div>
<div class="line">   <a class="code hl_define" href="valfuzz_8hpp.html#a9cc34fd87cb865c77439a5d39b3b111b">ASSERT_EQ</a>(1, 1);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_define" href="valfuzz_8hpp.html#a7c305cf3eb7b2a77a0d9e2f27d2c5f61">AFTER</a>()</div>
<div class="line">{</div>
<div class="line">   std::cout &lt;&lt; <span class="stringliteral">&quot;After test&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="ttc" id="avalfuzz_8hpp_html_a7c305cf3eb7b2a77a0d9e2f27d2c5f61"><div class="ttname"><a href="valfuzz_8hpp.html#a7c305cf3eb7b2a77a0d9e2f27d2c5f61">AFTER</a></div><div class="ttdeci">#define AFTER()</div><div class="ttdef"><b>Definition</b> <a href="valfuzz_8hpp_source.html#l00210">valfuzz.hpp:210</a></div></div>
<div class="ttc" id="avalfuzz_8hpp_html_a7e8ec6104f88c2824f334ec993a4acba"><div class="ttname"><a href="valfuzz_8hpp.html#a7e8ec6104f88c2824f334ec993a4acba">BEFORE</a></div><div class="ttdeci">#define BEFORE()</div><div class="ttdef"><b>Definition</b> <a href="valfuzz_8hpp_source.html#l00199">valfuzz.hpp:199</a></div></div>
<div class="ttc" id="avalfuzz_8hpp_html_a9cc34fd87cb865c77439a5d39b3b111b"><div class="ttname"><a href="valfuzz_8hpp.html#a9cc34fd87cb865c77439a5d39b3b111b">ASSERT_EQ</a></div><div class="ttdeci">#define ASSERT_EQ(a, b)</div><div class="ttdef"><b>Definition</b> <a href="valfuzz_8hpp_source.html#l00062">valfuzz.hpp:62</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="fuzzing"></a>
Fuzzing</h2>
<p>valFuzz provides a simple interface for fuzzing your code. You can define a fuzz function using the <code>FUZZME</code> macro, this function will be called repedetly on multiple threads until you stop the program. You can disable multithreading by passing <code>--no-multithread</code> as a command line argument. </p><div class="fragment"><div class="line"><a class="code hl_define" href="valfuzz_8hpp.html#a2f4edc7d26bd42c6f982942f4ae6bbf7">FUZZME</a>(naive_fuzzing, <span class="stringliteral">&quot;Naive fuzzing&quot;</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code hl_define" href="valfuzz_8hpp.html#a9cc34fd87cb865c77439a5d39b3b111b">ASSERT_EQ</a>(1==1);</div>
<div class="line">}</div>
<div class="ttc" id="avalfuzz_8hpp_html_a2f4edc7d26bd42c6f982942f4ae6bbf7"><div class="ttname"><a href="valfuzz_8hpp.html#a2f4edc7d26bd42c6f982942f4ae6bbf7">FUZZME</a></div><div class="ttdeci">#define FUZZME(fun_name, pretty_name)</div><div class="ttdef"><b>Definition</b> <a href="valfuzz_8hpp_source.html#l00230">valfuzz.hpp:230</a></div></div>
</div><!-- fragment --><p> You can get random values using the <code>T get_random&lt;T&gt;()</code> function, where <code>T</code> is the type of the value you want to get. The function will return a random value of the given type, allowed types are:</p><ul>
<li><code>int</code></li>
<li><code>float</code></li>
<li><code>double</code></li>
<li><code>char</code></li>
<li><code>std::string</code></li>
</ul>
<div class="fragment"><div class="line"><a class="code hl_define" href="valfuzz_8hpp.html#a2f4edc7d26bd42c6f982942f4ae6bbf7">FUZZME</a>(divide_fuzzing, <span class="stringliteral">&quot;Divide fuzzing&quot;</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> a = <a class="code hl_function" href="namespacevalfuzz.html#a0066312facef6ddcfcac8f5c610493a8">valfuzz::get_random&lt;int&gt;</a>();</div>
<div class="line">    <span class="keywordtype">int</span> b = <a class="code hl_function" href="namespacevalfuzz.html#a0066312facef6ddcfcac8f5c610493a8">valfuzz::get_random&lt;int&gt;</a>();</div>
<div class="line">    <span class="keywordtype">int</span> ret = foo_bar(a, b);</div>
<div class="line">    <a class="code hl_define" href="valfuzz_8hpp.html#a8f0eabb05f044ae4b864b3deb4cb5624">ASSERT_NO_THROW</a>(ret);</div>
<div class="line">}</div>
<div class="ttc" id="anamespacevalfuzz_html_a0066312facef6ddcfcac8f5c610493a8"><div class="ttname"><a href="namespacevalfuzz.html#a0066312facef6ddcfcac8f5c610493a8">valfuzz::get_random&lt; int &gt;</a></div><div class="ttdeci">int get_random&lt; int &gt;()</div><div class="ttdef"><b>Definition</b> <a href="valfuzz_8cpp_source.html#l00465">valfuzz.cpp:465</a></div></div>
<div class="ttc" id="avalfuzz_8hpp_html_a8f0eabb05f044ae4b864b3deb4cb5624"><div class="ttname"><a href="valfuzz_8hpp.html#a8f0eabb05f044ae4b864b3deb4cb5624">ASSERT_NO_THROW</a></div><div class="ttdeci">#define ASSERT_NO_THROW(expr)</div><div class="ttdef"><b>Definition</b> <a href="valfuzz_8hpp_source.html#l00130">valfuzz.hpp:130</a></div></div>
</div><!-- fragment --><p>After defining the fuzz function, you can run it by passing <code>--fuzz</code> as a command line argument: </p><div class="fragment"><div class="line">./my_test --fuzz</div>
</div><!-- fragment --><h2><a class="anchor" id="multithreading"></a>
Multithreading</h2>
<p>All tests and fuzz functions are run on multiple threads by default. You can disable multithreading by passing <code>--no-multithread</code> as a command line argument.</p>
<h2><a class="anchor" id="command_line"></a>
Command Line Arguments</h2>
<p>You can pass the following command line arguments to the program:</p><ul>
<li><code>--test &lt;test_name&gt;</code> - Run a specific test by name.</li>
<li><code>--fuzz</code> - Run all fuzz functions.</li>
<li><code>--fuzz &lt;fuzz_name&gt;</code> - Run a specific fuzz function by name.</li>
<li><code>--no-multithread</code> - Disable multithreading.</li>
<li><code>--verbose</code> - Enable verbose output.</li>
<li><code>--max-threads &lt;n&gt;</code> - Set the maximum number of threads to use.</li>
<li><code>--no-header</code> - Disable the header print at the start.</li>
<li><code>--help</code> - Display help information. </li>
</ul>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"/>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
